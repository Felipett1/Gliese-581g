<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Página principal</title>
        <link rel="stylesheet" href="./resources/css/style.css"/>
    </h:head>
    <h:body>
        <h:form id="formularioPrincipal" class="login" style="position: relative; top: 200px; color: #2E2E2E">
            <p:growl id="growl" showDetail="true"/>
            <p:focus context="login"/>
            <p>
                <p:outputLabel for="login" style="position: relative; left: -35px;" value="Usuario:"/>
                <p:inputText id="login" type="text" style="background-color: #6EAAEF" value="#{controlLogin.nombreUsuario}"/>
            </p>
            <p>
                <p:outputLabel for="password" style="position: relative; left: -20px" value="Contraseña:"/>
                <p:inputText id="password" type="password" style="background-color: #6EAAEF" value="#{controlLogin.password}"/>
            </p>
            <p class="login-submit">
                <p:commandButton  styleClass="login-button" actionListener="#{controlLogin.validarAcceso()}"/>
            </p>
            <p class="forgot-password" ><a href="#">¿Olvido su contraseña?</a></p>
        </h:form>
        <h:form id="formularioAuxiliar">
            <p:remoteCommand name="iniciarAppControlHoras" actionListener="#{controlRegistroHoras.usuarioLogeado(controlLogin.login.idEmpleado)}" action="registroHoras"/>
            <p:remoteCommand name="iniciarPlantilla" actionListener="#{controlPlantilla.usuarioLogeado(controlLogin.login.idEmpleado, controlLogin.modulo)}"/>
            <p:remoteCommand name="iniciarCambioPwd" actionListener="#{controlChangePassword.recibirLogin(controlLogin.login)}"/>
            
            
            <p:remoteCommand name="iniciarAppControlRecursos"  action="roles"/>
        </h:form>
    </h:body>
</html>

